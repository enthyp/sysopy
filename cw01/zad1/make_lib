CC=gcc
CFLAGS=-c -Wall

all: libfind.a libfind.so


libfind.a: find_static.o
	ar rcs libfind.a find_static.o

find_static.o: find.c find.h
	$(CC) $(CFLAGS) -g find.c -o find_static.o


libfind.so: find_shared.o
	$(CC) -shared -g find_shared.o -o libfind.so
	
find_shared.o: find.c find.h
	$(CC) $(CFLAGS) -g -fPIC find.c -o find_shared.o


clean:
	rm -f *.o *.a *.so

# TODO: Maybe create static and shared libs in separate directories?
